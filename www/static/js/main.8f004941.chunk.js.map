{"version":3,"sources":["components/WalletPage.tsx","components/WalletsList.tsx","components/ReceivePage.tsx","components/SendPage.tsx","components/App.tsx","index.tsx","getBiot.ts"],"names":["Wallet","_React$Component","_getPrototypeOf2","_this","Object","_Users_xjenek_WebstormProjects_biot_wallet_MyApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_len","arguments","length","args","Array","_key","_Users_xjenek_WebstormProjects_biot_wallet_MyApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_xjenek_WebstormProjects_biot_wallet_MyApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","apply","concat","state","balance","list","transactions","channels","isShowModalChannel","modalChannelId","modalChannelStatus","modalChannelRow","timerB","showTransactions","map","transaction","react__WEBPACK_IMPORTED_MODULE_8__","key","id","className","name","showChannels","channel","onClick","showModalChannel","row","substr","myAmount","peerAmount","status","step","setState","closeChannel","_Users_xjenek_WebstormProjects_biot_wallet_MyApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_xjenek_WebstormProjects_biot_wallet_MyApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee3","channelsManager","wrap","_context3","prev","next","console","error","ChannelsManager","props","walletId","restoreChannel","init","setImmediate","_callee","_context","closeMutually","stop","setTimeout","_callee2","_context2","closeOneSide","_Users_xjenek_WebstormProjects_biot_wallet_MyApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__","_Users_xjenek_WebstormProjects_biot_wallet_MyApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","value","_this2","self","getBiot","_ref4","_callee5","biot","listChannels","arrTransactions","i","_transaction","obj","arrChannels","_i","_context5","core","getWalletBalance","sent","getListTransactionsForWallet","listByWalletId","action","my_address","addressTo","time","amount","_Users_xjenek_WebstormProjects_biot_wallet_MyApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","base","stable","pending","setInterval","_callee4","_context4","_x","clearInterval","_this3","style","position","zIndex","backgroundColor","padding","left","right","color","fontSize","margin","type","width","height","modal","React","CreateWallet","classCallCheck","possibleConstructorReturn","getPrototypeOf","currentWallet","coin","wallets","inherits","createClass","e","preventDefault","addWallet","react","onSubmit","handleSubmit","required","placeholder","onChange","target","WalletsList","_React$Component2","show","page","showModal","hideModal","_ref","asyncToGenerator","regenerator_default","createNewWallet","toConsumableArray","alert","timerWL","showWallets","setPage","_this4","_ref2","updWL","_updWL","walletsInDb","wallet","_balance","getWallets","_x2","WalletsList_Modal","handleClose","WalletsList_CreateWallet","Modal","_ref5","children","showHideClassName","ReceivePage","address","imgUrl","qrCode","base64ImageString","getAddressesInWallet","QRCode","setErrorCorrectLevel","ErrorCorrectLevel","M","setTypeNumber","addData","make","toDataURL","src","SendPage","setAddress","evt","setAmount","parseInt","sendPayment","t0","t1","t2","t3","t4","t5","t6","asset","toAddress","changeAddress","deviceAddress","sendPaymentFromWallet","t7","back","params","Menu","QRScanner","getQR","err","text","json","JSON","parse","indexOf","r","match","OBValidation","isValidAddress","paramsObj","resMatch","forEach","v","splitV","split","app","pairingCode","age","channelType","rate","count","interval","document","body","hideQR","SetWallet","_React$Component3","_this5","_this6","nextPage","ReqChannel","_React$Component4","_getPrototypeOf3","_this7","_len3","_key3","openChannel","_callee6","myDeviceAddressW","_context6","window","myDeviceAddress","newChannel","peerDeviceAddress","events","on","transfer","info","_ref6","_x4","_x3","approve","_ref7","_callee7","pubKey","listCorrespondents","_context7","objectHash","getDeviceAddress","filter","device_address","addCorrespondent","_x5","reject","_this8","App","_React$Component5","_getPrototypeOf4","_this9","_len5","_key5","_this10","WalletsList_WalletsList","App_Menu","App_SetWallet","App_ReqChannel","App_QRScanner","WalletPage","SendPage_SendPage","ReceivePage_ReceivePage","ROOT","querySelector","ReactDOM","App_App","cb"],"mappings":"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","file":"static/js/main.8f004941.chunk.js","sourcesContent":["import * as React from 'react';\nimport \"../styles/wallet-page.scss\";\nimport getBiot from \"../getBiot\";\n\ninterface ITransactions {\n\tname: string;\n\tid: number;\n\ttransaction: string;\n\tbalance: number\n}\n\ninterface IChannels {\n\tid: string;\n\tcoin: string;\n\tmyAmount: number;\n\tpeerAmount: number;\n\trow: any;\n}\n\n\nexport class Wallet extends React.Component<{ walletId: String }, {}> {\n\n\tstate = {\n\t\tbalance: 0,\n\t\tlist: 'transactions',\n\t\ttransactions: [],\n\t\tchannels: [],\n\t\tisShowModalChannel: false,\n\t\tmodalChannelId: 'Open',\n\t\tmodalChannelStatus: 'Open',\n\t\tmodalChannelRow: null\n\t};\n\n\ttimerB: any = null;\n\n\tcomponentDidMount () {\n\t\tlet self = this;\n\t\tgetBiot(async (biot: any) => {\n\t\t\tlet balance = await biot.core.getWalletBalance(this.props.walletId);\n\t\t\tlet transactions = await biot.core.getListTransactionsForWallet(this.props.walletId);\n\n\t\t\t// @ts-ignore\n\t\t\tlet listChannels = await ChannelsManager.listByWalletId(this.props.walletId);\n\n\t\t\tconsole.error('transactions', transactions);\n\t\t\tconsole.error('channels', listChannels);\n\t\t\tlet arrTransactions: any = [];\n\t\t\tfor (let i = 0; i < transactions.length; i++) {\n\t\t\t\tlet transaction = transactions[i];\n\t\t\t\tvar obj: any = {};\n\t\t\t\tif (transaction.action === 'received') {\n\t\t\t\t\tobj.transaction = 'receive';\n\t\t\t\t\tobj.name = transaction.my_address.substr(0, 20) + '...';\n\t\t\t\t} else {\n\t\t\t\t\tobj.transaction = 'send';\n\t\t\t\t\tobj.name = transaction.addressTo.substr(0, 20) + '...';\n\t\t\t\t}\n\t\t\t\tobj.id = transaction.time;\n\t\t\t\tobj.balance = transaction.amount;\n\t\t\t\tarrTransactions = [...arrTransactions, obj];\n\t\t\t}\n\n\t\t\tlet arrChannels: any = [];\n\t\t\tfor (let i = 0; i < listChannels.length; i++) {\n\t\t\t\tlet channel = listChannels[i];\n\t\t\t\tarrChannels = [...arrChannels, {\n\t\t\t\t\tid: channel.id,\n\t\t\t\t\tmyAmount: channel.myAmount,\n\t\t\t\t\tpeerAmount: channel.peerAmount,\n\t\t\t\t\trow: channel\n\t\t\t\t}];\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tbalance: balance.base.stable + balance.base.pending,\n\t\t\t\ttransactions: arrTransactions,\n\t\t\t\tchannels: arrChannels\n\t\t\t});\n\t\t\tthis.timerB = setInterval(async function () {\n\t\t\t\tlet balance = await biot.core.getWalletBalance(self.props.walletId);\n\t\t\t\tself.setState({ balance: balance.base.stable + balance.base.pending });\n\t\t\t}, 10000);\n\t\t});\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.timerB) clearInterval(this.timerB);\n\t}\n\n\tshowTransactions = () => {\n\t\treturn this.state.transactions.map((transaction: ITransactions) => {\n\t\t\treturn (\n\t\t\t\t<div key={transaction.id} className={'list-body'}>\n\t\t\t\t\t<div className={transaction.transaction}>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'list-body-name'}>{transaction.name}</div>\n\t\t\t\t\t<div className={'list-body-balance'}>{transaction.balance}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t};\n\n\tshowChannels = () => {\n\t\treturn this.state.channels.map((channel: IChannels) => {\n\t\t\treturn (\n\t\t\t\t<div key={channel.id} className={'channels-list-body'}\n\t\t\t\t     onClick={() => this.showModalChannel(channel.row)}>\n\t\t\t\t\t<div className={'channels-list-body-name'}>{channel.id.substr(0, 20) + '...'}</div>\n\t\t\t\t\t<div className={'list-body-balance-ch'}>{channel.myAmount} / {channel.peerAmount}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t};\n\n\tshowModalChannel = (row) => {\n\t\tlet status = 'Close';\n\t\tif (row.step === 'waiting_transfers') status = 'Open';\n\t\tthis.setState({\n\t\t\tmodalChannelId: row.id,\n\t\t\tmodalChannelStatus: status,\n\t\t\tisShowModalChannel: true,\n\t\t\tmodalChannelRow: row\n\t\t});\n\t};\n\n\tcloseChannel = async () => {\n\t\tconsole.error('start', 1);\n\t\tif (this.state.modalChannelRow) {\n\t\t\tconsole.error('start', 2);\n\t\t\t// @ts-ignore\n\t\t\tlet channelsManager = new ChannelsManager(this.props.walletId);\n\t\t\tconsole.error('start', 3);\n\t\t\tlet channel = channelsManager.restoreChannel(this.state.modalChannelRow);\n\t\t\tconsole.error('start', 4);\n\t\t\tawait channel.init();\n\t\t\tconsole.error('start', 5);\n\t\t\tsetImmediate(async () => {\n\t\t\t\tawait channel.closeMutually();\n\t\t\t});\n\t\t\tconsole.error('start', 6);\n\t\t\tsetTimeout(async () => {\n\t\t\t\tif (channel.step !== 'mutualClose') {\n\t\t\t\t\tawait channel.closeOneSide();\n\t\t\t\t}\n\t\t\t}, 60000);\n\t\t}\n\t\tconsole.error('start', 7);\n\t\tthis.setState({ isShowModalChannel: false });\n\t};\n\n\trender () {\n\t\tlet getBlock = () => {\n\t\t\tif (this.state.list == 'transactions') {\n\t\t\t\treturn <div key={'transactions'} className={'transactions'}>\n\t\t\t\t\t{this.showTransactions()}\n\t\t\t\t</div>;\n\t\t\t} else {\n\t\t\t\treturn <div key={'channels'} className={'channels'}>\n\t\t\t\t\t{this.showChannels()}\n\t\t\t\t</div>\n\t\t\t}\n\t\t};\n\n\t\tlet modal = () => {\n\t\t\tif (this.state.isShowModalChannel)\n\t\t\t\treturn <div>\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\tzIndex: 10,\n\t\t\t\t\t\tbackgroundColor: '#24293d',\n\t\t\t\t\t\tpadding: '10px',\n\t\t\t\t\t\tleft: '5px',\n\t\t\t\t\t\tright: '5px',\n\t\t\t\t\t\tcolor: '#c8d5d3'\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div>Id: <span style={{ fontSize: '12px' }}>{this.state.modalChannelId}</span></div>\n\t\t\t\t\t\t<div>Status: {this.state.modalChannelStatus}</div>\n\t\t\t\t\t\t{this.state.modalChannelStatus === 'Open' ? <div>\n\t\t\t\t\t\t\t<button onClick={() => this.closeChannel()} className={'button-send-submit'} style={{\n\t\t\t\t\t\t\t\tposition: 'inherit',\n\t\t\t\t\t\t\t\tmargin: '10px 0'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t        type=\"submit\">Close channel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div> : ''}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9,\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(47, 45, 45, 0.76)',\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\theight: '100%'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => this.setState({ isShowModalChannel: false })}>_\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{modal()}\n\t\t\t\t<div className={'balance'}>\n\n\t\t\t\t\t<text className={'balance-title'}>Total balance</text>\n\t\t\t\t\t<text className={'balance-text'}>{this.state.balance} bytes</text>\n\t\t\t\t</div>\n\n\t\t\t\t<div onClick={() => this.setState({ list: 'transactions' })}\n\t\t\t\t     className={this.state.list === 'transactions' ? 'transactions-button-active' : 'transactions-button'}>\n\t\t\t\t\t<text>Transactions</text>\n\t\t\t\t</div>\n\t\t\t\t<div onClick={() => this.setState({ list: 'channels' })}\n\t\t\t\t     className={this.state.list !== 'transactions' ? 'channels-button-active' : 'channels-button'}>\n\t\t\t\t\t<text>Channels</text>\n\t\t\t\t</div>\n\t\t\t\t{getBlock()}\n\t\t\t</div>\n\t\t);\n\t}\n}","import * as React from 'react';\nimport \"../styles/wallets-list.scss\";\nimport getBiot from '../getBiot';\n\ninterface IState {\n  currentWallet: string;\n  coin: string;\n  wallets: Array<IWallet>;\n  balance: number\n}\n\ninterface IWallet {\n  name: string;\n  id: number;\n  coin: string;\n  balance: number\n}\n\ninterface walletsProps {\n  setPage: (page, walletId) => void\n}\n\nexport class CreateWallet extends React.Component<any, IState> {\n  constructor (props: any) {\n    super(props);\n\n    this.state = {\n      balance: 0,\n      currentWallet: \"\",\n      coin: \"Byteball\",\n      wallets: []\n    };\n  }\n\n  public handleSubmit (e: React.FormEvent<HTMLFormElement>): void {\n    e.preventDefault();\n    this.props.addWallet(this.state.currentWallet, this.state.coin, this.state.balance);\n  }\n\n  public render (): JSX.Element {\n    return (\n      <div>\n        <form onSubmit={e => this.handleSubmit(e)}>\n          <input\n            required={true}\n            type=\"text\"\n            className=\"tdl-input\"\n            placeholder=\"Wallet name\"\n            value={this.state.currentWallet}\n            onChange={e => this.setState({ currentWallet: e.target.value })}\n          /><br>\n        </br>\n          <button className={'button-submit'} type=\"submit\">Add</button>\n        </form>\n      </div>\n    );\n  }\n\n}\n\nexport class WalletsList extends React.Component<walletsProps, any> {\n\n\n  state = { show: false, wallets: [], page: 'wallet' };\n\n\n  showModal = () => {\n    this.setState({ show: true });\n  };\n  hideModal = () => {\n    this.setState({ show: false });\n  };\n\n  addWallet = () => {\n    getBiot(async (biot: any) => {\n      let walletId = await biot.core.createNewWallet();\n      let balance = await biot.core.getWalletBalance(walletId);\n      this.setState({\n        show: false,\n        wallets: [\n          ...this.state.wallets,\n          {\n            id: walletId,\n            name: walletId.substr(0, 25) + '...',\n            coin: 'Byteball',\n            balance: balance.base.stable + balance.base.pending\n          }\n        ]\n      });\n      alert('New wallet: ' + walletId);\n    });\n  };\n\n  timerWL: any = null;\n\n  componentDidMount () {\n    let self = this;\n    getBiot(async (biot: any) => {\n      async function updWL () {\n        let wallets: any = [];\n        let walletsInDb = await biot.core.getWallets();\n        for (let i = 0; i < walletsInDb.length; i++) {\n          let wallet = walletsInDb[i];\n          let balance = await biot.core.getWalletBalance(wallet);\n          wallets = [...wallets, {\n            id: wallet,\n            name: wallet.substr(0, 25) + '...',\n            coin: 'Byteball',\n            balance: balance.base.stable + balance.base.pending\n          }];\n        }\n        self.setState({ wallets: wallets });\n      }\n\n      await updWL();\n      this.timerWL = setInterval(updWL, 10000);\n    });\n  }\n\n  componentWillUnmount () {\n    if(this.timerWL) clearInterval(this.timerWL);\n  }\n\n  showWallets = () => {\n    return this.state.wallets.map((wallets: IWallet) => {\n      return (\n        <div onClick={() => {\n          this.props.setPage(this.state.page, wallets.id)\n        }} key={wallets.id} className={'wallets-list-body'}>\n          <div className={wallets.coin}>\n          </div>\n          <div className={'wallets-list-body-name'}>{wallets.name}</div>\n          <div className={'wallets-list-body-balance'}>{wallets.balance} bytes</div>\n        </div>\n      );\n    });\n  };\n\n  render () {\n    return <div>\n      <div className={'wallets-list'}>\n        <text className={'wallets-list-text'}>Your wallets</text>\n        <a className={'add-wallet-button'} onClick={this.addWallet}/>\n      </div>\n      <div className={'state-wallets'}>\n        {this.showWallets()}\n      </div>\n      <Modal show={this.state.show} handleClose={this.hideModal}>\n        <p className={'modal-title'}>Add new wallet</p>\n        <p><CreateWallet addWallet={this.addWallet}/></p>\n      </Modal>\n    </div>\n\n  }\n}\n\nconst Modal = ({ handleClose, show, children }) => {\n  const showHideClassName = show ? 'modal display-block' : 'modal display-none';\n  return (\n    <div className={showHideClassName}>\n      <div className={'modal-background'} onClick={handleClose}></div>\n      <section className='modal-main'>\n        {children}\n      </section>\n    </div>\n  );\n};","import * as React from 'react';\nimport \"../styles/receive-page.scss\";\nimport getBiot from \"../getBiot\";\nimport { QRCode, ErrorCorrectLevel, QRNumber, QRAlphaNum, QR8BitByte, QRKanji } from \"qrcode-generator-ts/js\";\n\n\nexport class ReceivePage extends React.Component<{ walletId: String }> {\n  state = {\n    address: '',\n    imgUrl: ''\n  };\n\n  componentDidMount () {\n    getBiot(async (biot: any) => {\n      let address = (await biot.core.getAddressesInWallet(this.props.walletId))[0];\n      console.error('address', address);\n      let qrCode = new QRCode();\n      qrCode.setErrorCorrectLevel(ErrorCorrectLevel.M);\n      qrCode.setTypeNumber(4);\n      qrCode.addData(\"byteball:\" + address);\n      qrCode.make();\n      let base64ImageString = qrCode.toDataURL();\n      this.setState({ address: address, imgUrl: base64ImageString });\n    });\n  }\n\n  render () {\n    return <div>\n      <div className={'qr-address'}>\n        <img width={'100%'} height={'100%'} src={this.state.imgUrl}/>\n      </div>\n      <div className={'address'}>\n        <text>{this.state.address}</text>\n      </div>\n    </div>\n  }\n}\n","import * as React from 'react';\nimport \"../styles/send-page.scss\";\nimport getBiot from \"../getBiot\";\n\ninterface ISendPage {\n\twalletId: string,\n\tback: () => void,\n\tparams?: { address: string, amount: number } | {}\n}\n\nexport class SendPage extends React.Component<ISendPage, {}> {\n\n\tstate = { address: '', amount: '' };\n\n\tsetAddress = (evt) => {\n\t\tthis.setState({\n\t\t\taddress: evt.target.value\n\t\t});\n\t};\n\n\tsetAmount = (evt) => {\n\t\tthis.setState({\n\t\t\tamount: parseInt(evt.target.value)\n\t\t});\n\t};\n\n\tcomponentDidMount () {\n\t\tconsole.error('params2', this.props.params);\n\t\tif (this.props.params) {\n\t\t\t// @ts-ignore\n\t\t\tif (this.props.params.address) this.setState({ address: this.props.params.address });\n\t\t\t// @ts-ignore\n\t\t\tif (this.props.params.amount) this.setState({ amount: this.props.params.amount });\n\t\t}\n\t}\n\n\tsendPayment = () => {\n\t\tconsole.error('sendPayment', this.state.address, this.state.amount);\n\t\tgetBiot(async (biot: any) => {\n\t\t\tconsole.error('start p');\n\t\t\tconsole.error('paym', await biot.core.sendPaymentFromWallet({\n\t\t\t\tasset: 'base',\n\t\t\t\twallet: this.props.walletId,\n\t\t\t\ttoAddress: this.state.address,\n\t\t\t\tamount: this.state.amount,\n\t\t\t\tchangeAddress: (await biot.core.getAddressesInWallet(this.props.walletId))[0],\n\t\t\t\tdeviceAddress: null\n\t\t\t}));\n\t\t\talert('payment sent');\n\t\t\tthis.props.back();\n\t\t});\n\t};\n\n\trender () {\n\t\treturn <div>\n\t\t\t<div className={'address-input'}>\n\t\t\t\t<input\n\t\t\t\t\trequired={true}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"send-input\"\n\t\t\t\t\tplaceholder=\"Recipient address\"\n\t\t\t\t\tvalue={this.state.address}\n\t\t\t\t\tonChange={this.setAddress}/>\n\t\t\t</div>\n\t\t\t<div className={'amount-input'}>\n\t\t\t\t<input\n\t\t\t\t\trequired={true}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"send-input\"\n\t\t\t\t\tplaceholder=\"Amount\"\n\t\t\t\t\tvalue={this.state.amount}\n\t\t\t\t\tonChange={this.setAmount}/>\n\t\t\t</div>\n\t\t\t<button onClick={() => this.sendPayment()} className={'button-send-submit'} type=\"submit\">Send</button>\n\t\t</div>\n\t}\n}\n","import * as React from 'react';\n\nimport \"../styles/style.scss\";\nimport { WalletsList } from \"./WalletsList\";\nimport { Wallet } from \"./WalletPage\";\nimport { ReceivePage } from \"./ReceivePage\";\nimport { SendPage } from \"./SendPage\";\nimport getBiot from \"../getBiot\";\n\ninterface IPage {\n\tpage: string;\n}\n\nexport class Menu extends React.Component<any, IPage> {\n\n\tconstructor (props: any) {\n\t\tsuper(props);\n\t\tthis.state = { page: \"qrScanner\" };\n\t}\n\n\trender () {\n\t\treturn (\n\t\t\t<div className={'menu'}>\n\t\t\t\t<a onClick={() => {\n\t\t\t\t\tthis.props.setPage(this.state.page)\n\t\t\t\t}} className={'qr-scanner'}>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport class QRScanner extends React.Component<any, IPage> {\n\n\tcomponentDidMount () {\n\t\tlet self = this;\n\t\t// @ts-ignore\n\t\tgetQR(function (err, text) {\n\t\t\tconsole.error('text QR: ', text);\n\t\t\tif (err) {\n\t\t\t\talert('Error');\n\t\t\t\tself.props.setPage('index');\n\t\t\t} else {\n\t\t\t\tlet json;\n\t\t\t\ttry {\n\t\t\t\t\tjson = JSON.parse(text);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tjson = null;\n\t\t\t\t}\n\n\t\t\t\tif (text.indexOf('byteball:') !== -1 || text.indexOf('byteball-tn:') !== -1) {\n\t\t\t\t\tlet r = text.match(/^byteball(|-tn):([A-Z0-9]+)/);\n\t\t\t\t\tif (r && r[2]) {\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tif (OBValidation.isValidAddress(r[2])) {\n\t\t\t\t\t\t\tlet paramsObj = {};\n\t\t\t\t\t\t\tlet resMatch = text.match(/[a-z]+=[0-9]+/);\n\t\t\t\t\t\t\tif (resMatch) {\n\t\t\t\t\t\t\t\tresMatch.forEach(v => {\n\t\t\t\t\t\t\t\t\tlet splitV = v.split('=');\n\t\t\t\t\t\t\t\t\tparamsObj[splitV[0]] = parseInt(splitV[1]);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.props.setPage('setWallet', null, 'sendTransaction', {\n\t\t\t\t\t\t\t\taddress: r[2],\n\t\t\t\t\t\t\t\tamount: paramsObj['amount'] || 0\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (json && json.app && json.app === 'biot') {\n\t\t\t\t\tif (json.type && json.type === 'channel') {\n\t\t\t\t\t\tif (json.step && json.step === 'init') {\n\t\t\t\t\t\t\tif (!json.pairingCode || !json.myAmount || !json.peerAmount || !json.age\n\t\t\t\t\t\t\t\t|| !json.channelType || (json.channelType && json.channelType !== 'pft')\n\t\t\t\t\t\t\t\t|| !json.rate || !json.count || !json.interval) {\n\t\t\t\t\t\t\t\talert('Error_ch');\n\t\t\t\t\t\t\t\tself.props.setPage('index');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.props.setPage('setWallet', null, 'reqChannel', {\n\t\t\t\t\t\t\t\tpairingCode: json.pairingCode,\n\t\t\t\t\t\t\t\tmyAmount: json.peerAmount,\n\t\t\t\t\t\t\t\tpeerAmount: json.myAmount,\n\t\t\t\t\t\t\t\tage: json.age,\n\t\t\t\t\t\t\t\tchannelType: json.channelType,\n\t\t\t\t\t\t\t\trate: json.rate,\n\t\t\t\t\t\t\t\tcount: json.count,\n\t\t\t\t\t\t\t\tinterval: json.interval\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert('Error_ch');\n\t\t\t\t\t\t\tself.props.setPage('index');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('Error');\n\t\t\t\t\t\tself.props.setPage('index');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\talert('Error');\n\t\t\t\t\tself.props.setPage('index');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// @ts-ignore\n\t\tdocument.body.style.backgroundColor = 'rgba(0,0,0,0)';\n\t}\n\n\tcomponentWillUnmount () {\n\t\t// @ts-ignore\n\t\thideQR(function () {\n\t\t\t// @ts-ignore\n\t\t\tsetTimeout(function () {\n\t\t\t\tdocument.body.style.backgroundColor = '';\n\t\t\t}, 50);\n\t\t});\n\t}\n\n\trender () {\n\t\treturn (\n\t\t\t<div className={'top-bar'}>\n\t\t\t\t<text className={'qrScanner-title'}>QR Scanner</text>\n\t\t\t\t<a onClick={() => this.props.setPage('index')} className={'back-button'}> </a>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\ninterface ISetWallet {\n\tnextPage: String,\n\tparams: {},\n\tsetPage: (page, walletId, nextPage?, params?) => void\n}\n\nexport class SetWallet extends React.Component<ISetWallet, any> {\n\n\tstate = { wallets: [] };\n\n\tcomponentDidMount () {\n\t\tgetBiot(async (biot: any) => {\n\t\t\tlet wallets: any = [];\n\t\t\tlet walletsInDb = await biot.core.getWallets();\n\t\t\tfor (let i = 0; i < walletsInDb.length; i++) {\n\t\t\t\tlet wallet = walletsInDb[i];\n\t\t\t\tlet balance = await biot.core.getWalletBalance(wallet);\n\t\t\t\twallets = [...wallets, {\n\t\t\t\t\tid: wallet,\n\t\t\t\t\tname: wallet.substr(0, 25) + '...',\n\t\t\t\t\tcoin: 'Byteball',\n\t\t\t\t\tbalance: balance.base.stable + balance.base.pending\n\t\t\t\t}];\n\t\t\t}\n\t\t\tthis.setState({ wallets: wallets });\n\t\t});\n\t}\n\n\trender () {\n\t\tlet wallets = this.state.wallets.map((wallet: { id: string, name: string, balance: number, coin: string }) => {\n\t\t\treturn (\n\t\t\t\t<div onClick={() => {\n\t\t\t\t\tthis.props.setPage(this.props.nextPage, wallet.id, null, this.props.params)\n\t\t\t\t}} key={wallet.id} className={'wallets-list-body'}>\n\t\t\t\t\t<div className={wallet.coin}>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'wallets-list-body-name'}>{wallet.name}</div>\n\t\t\t\t\t<div className={'wallets-list-body-balance'}>{wallet.balance} bytes</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t\treturn <div>\n\t\t\t<div className={'state-wallets'}>{wallets}</div>\n\t\t</div>\n\t}\n}\n\nexport class ReqChannel extends React.Component<{ params: any, walletId: string, setPage: (page) => void }, any> {\n\n\tstate = { wallets: [] };\n\n\topenChannel = async (biot, deviceAddress) => {\n\t\t// @ts-ignore\n\t\tlet channelsManager = new ChannelsManager(this.props.walletId);\n\t\t// @ts-ignore\n\t\tlet myDeviceAddressW = window.myDeviceAddress;\n\n\t\tlet channel = channelsManager.newChannel({\n\t\t\tmyDeviceAddress: myDeviceAddressW,\n\t\t\tpeerDeviceAddress: deviceAddress,\n\t\t\tmyAmount: this.props.params.myAmount,\n\t\t\tpeerAmount: this.props.params.peerAmount,\n\t\t\tage: this.props.params.age\n\t\t});\n\t\tchannel.events.on('error', error => {\n\t\t\tconsole.error('channelError', error, channel.id);\n\t\t});\n\t\tchannel.events.on('start', async () => {\n\t\t\tconsole.error('channel start. id:', channel.id);\n\t\t\tlet i = 1;\n\t\t\tlet interval = setInterval(async () => {\n\t\t\t\tawait channel.transfer(this.props.params.rate);\n\t\t\t\tconsole.error('info', channel.info());\n\t\t\t\ti++;\n\t\t\t\tif (i >= this.props.params.count) {\n\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\tawait channel.closeMutually();\n\t\t\t\t\tsetTimeout(async () => {\n\t\t\t\t\t\tif (channel.step !== 'mutualClose') {\n\t\t\t\t\t\t\tawait channel.closeOneSide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 60000);\n\t\t\t\t}\n\t\t\t}, this.props.params.interval * 1000);\n\t\t\tawait channel.transfer(this.props.params.rate);\n\t\t});\n\t\tchannel.events.on('changed_step', (step) => {\n\t\t\tconsole.error('changed_step: ', step, channel.id);\n\t\t});\n\t\tchannel.events.on('new_transfer', async (amount) => {\n\t\t\tconsole.error('new_transfer: ', amount, channel.id);\n\t\t});\n\t\tconsole.error('init', await channel.init());\n\t};\n\n\tapprove = () => {\n\t\tgetBiot(async (biot: any) => {\n\t\t\tlet pubKey = this.props.params.pairingCode.match(/^[A-Za-z0-9]+/)[0];\n\n\t\t\t// @ts-ignore\n\t\t\tlet peerDeviceAddress = objectHash.getDeviceAddress(pubKey);\n\n\t\t\tlet listCorrespondents = await biot.core.listCorrespondents();\n\t\t\tif (listCorrespondents.length && listCorrespondents.filter(v => {\n\t\t\t\treturn v.device_address === peerDeviceAddress\n\t\t\t}).length) {\n\t\t\t\tawait this.openChannel(biot, peerDeviceAddress);\n\t\t\t} else {\n\t\t\t\tawait biot.core.addCorrespondent(this.props.params.pairingCode);\n\t\t\t\tawait this.openChannel(biot, peerDeviceAddress);\n\t\t\t}\n\n\t\t});\n\t};\n\n\treject = () => {\n\t\tthis.props.setPage('index');\n\t};\n\n\trender () {\n\t\treturn <div>\n\t\t\t<div className={'top-bar'}>\n\t\t\t\t<text className={'qrScanner-title'}>Open channel</text>\n\t\t\t\t<a onClick={() => this.props.setPage('index')} className={'back-button'}> </a>\n\t\t\t</div>\n\t\t\t<div className={'listAddChannel'}>\n\t\t\t\t<div>My amount: {this.props.params.myAmount}</div>\n\t\t\t\t<div>Peer amount: {this.props.params.peerAmount}</div>\n\t\t\t\t<div>Age: {this.props.params.age}</div>\n\t\t\t\t<div>Rate: {this.props.params.rate} bytes</div>\n\t\t\t\t<div>Number of Payments: {this.props.params.count}</div>\n\t\t\t\t<div>Interval: {this.props.params.interval} sec</div>\n\t\t\t\t<div className={'chBtns'}>\n\t\t\t\t<div className={'chApprove'}><a onClick={() => this.approve()}>Approve</a></div>\n\t\t\t\t<div className={'chReject'}><a onClick={() => this.reject()}>Reject</a></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t}\n}\n\nexport class App extends React.Component {\n\tstate = {\n\t\tpage: 'index',      //qrScanner , wallet\n\t\twalletId: '',\n\t\tnextPage: '',\n\t\tparams: {}\n\t};\n\n\tsetPage = (page, walletId?, nextPage?, params?) => {\n\t\tthis.setState({ page: page, walletId: walletId, nextPage: nextPage || '', params: params || {} });\n\t};\n\n\n\trender () {\n\t\tif (this.state.page == 'index') {\n\t\t\treturn <div className={'app-body'}>\n\t\t\t\t<WalletsList setPage={this.setPage}/>\n\t\t\t\t<Menu setPage={this.setPage}/>\n\t\t\t</div>\n\t\t} else if (this.state.page === 'setWallet') {\n\t\t\treturn <div>\n\t\t\t\t<SetWallet setPage={this.setPage} nextPage={this.state.nextPage} params={this.state.params}/>\n\t\t\t</div>\n\t\t} else if (this.state.page === 'reqChannel') {\n\t\t\treturn <div><ReqChannel params={this.state.params} walletId={this.state.walletId} setPage={this.setPage}/>\n\t\t\t</div>\n\t\t} else if (this.state.page == 'qrScanner') {\n\t\t\treturn <div>\n\t\t\t\t<QRScanner setPage={this.setPage}/>\n\t\t\t</div>\n\t\t} else if (this.state.page == 'wallet') {\n\t\t\treturn <div>\n\t\t\t\t<div className={'top-bar'}>\n\t\t\t\t\t<text className={'wallet-title'}>{this.state.walletId.substr(0, 25) + '...'}</text>\n\t\t\t\t\t<a onClick={() => this.setState({ page: 'index' })} className={'back-button'}> </a>\n\t\t\t\t</div>\n\t\t\t\t<div className={'wallet-menu'}>\n\t\t\t\t\t<a onClick={() => this.setState({ page: 'sendTransaction' })} className={'send-button'}> </a>\n\t\t\t\t\t<a onClick={() => this.setState({ page: 'receiveTransaction' })} className={'receive-button'}> </a>\n\t\t\t\t</div>\n\t\t\t\t<Wallet walletId={this.state.walletId}/>\n\t\t\t</div>\n\t\t} else if (this.state.page == 'sendTransaction') {\n\t\t\treturn <div>\n\t\t\t\t<div className={'top-bar'}>\n\t\t\t\t\t<text className={'wallet-title'}>Send</text>\n\t\t\t\t\t<a onClick={() => this.setState({ page: 'wallet' })} className={'back-button'}> </a>\n\t\t\t\t</div>\n\t\t\t\t<SendPage walletId={this.state.walletId} back={() => this.setState({ page: 'wallet' })}\n\t\t\t\t          params={this.state.params}/>\n\t\t\t</div>\n\t\t} else if (this.state.page == 'receiveTransaction') {\n\t\t\treturn <div>\n\t\t\t\t<div className={'top-bar'}>\n\t\t\t\t\t<text className={'wallet-title'}>Receive</text>\n\t\t\t\t\t<a onClick={() => this.setState({ page: 'wallet' })} className={'back-button'}> </a>\n\t\t\t\t</div>\n\t\t\t\t<ReceivePage walletId={this.state.walletId}/>\n\t\t\t</div>\n\t\t}\n\t}\n}\n\n\n\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport getBiot from './getBiot';\n\nimport {App} from \"./components/App\";\n\nimport \"./styles/style.scss\";\n\nconst ROOT = document.querySelector(\".container\");\n\nReactDOM.render(<App/>, ROOT);\n\n","// @ts-ignore\nfunction getBiot (cb) {\n  // @ts-ignore\n  if (window.biot) return cb(window.biot);\n  setTimeout(function () {\n    getBiot(cb);\n  }, 50);\n}\n\nexport default getBiot;"],"sourceRoot":""}